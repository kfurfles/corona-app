<div class="ca-dashboard">
  <ng-select
    [items]="states$ | async"
    [(ngModel)]="selected"
    [searchFn]="searchBy"
    (change)="changeDashboardInfo($event)"
    placeholder="Selecione um estado"
    class="ng-custom">
    <ng-template ng-label-tmp let-item="item">
      <div class="ng-custom__option">
        <img height="19" width="19" [src]="item.flag"/>
        {{item.state}} - {{item.uf}}
      </div>
    </ng-template>
    <ng-template ng-option-tmp let-item="item">
      <div class="ng-custom__option">
        <img height="19" width="19" [src]="item.flag"/>
        {{item.state}} - {{item.uf}}
      </div>
    </ng-template>
  </ng-select>

  <div class="ca-dashboard__card-container">
    <ca-info-card
      *ngIf="!selected"
      title="Novos casos"
      [number]="infos.cases"
      variation="purple"
      class="ca-dashboard__card"></ca-info-card>

    <ca-info-card
      title="Casos confirmados"
      [number]="infos.confirmed"
      variation="orange"
      class="ca-dashboard__card"></ca-info-card>

    <ca-info-card
      *ngIf="!selected"
      title="Total recuperados"
      [number]="infos.recovered"
      variation="green"
      class="ca-dashboard__card"></ca-info-card>

    <ca-info-card
      title="Mortes"
      [number]="infos.deaths"
      variation="red"
      class="ca-dashboard__card"></ca-info-card>
  </div>

  <ca-share [message]="shareMessage" class="ca-dashboard__share"></ca-share>
</div>
